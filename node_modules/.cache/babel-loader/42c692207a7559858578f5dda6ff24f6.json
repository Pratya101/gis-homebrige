{"remainingRequest":"/Users/pratyaphocha/village-servay/node_modules/thread-loader/dist/cjs.js!/Users/pratyaphocha/village-servay/node_modules/babel-loader/lib/index.js!/Users/pratyaphocha/village-servay/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pratyaphocha/village-servay/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pratyaphocha/village-servay/src/pages/Login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pratyaphocha/village-servay/src/pages/Login/Login.vue","mtime":1626539669921},{"path":"/Users/pratyaphocha/village-servay/node_modules/cache-loader/dist/cjs.js","mtime":1626176668222},{"path":"/Users/pratyaphocha/village-servay/node_modules/thread-loader/dist/cjs.js","mtime":1626176668505},{"path":"/Users/pratyaphocha/village-servay/node_modules/babel-loader/lib/index.js","mtime":1626179369206},{"path":"/Users/pratyaphocha/village-servay/node_modules/cache-loader/dist/cjs.js","mtime":1626176668222},{"path":"/Users/pratyaphocha/village-servay/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1626179382467}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3ByYXR5YXBob2NoYS92aWxsYWdlLXNlcnZheS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBjb25maWcgZnJvbSAiLi4vLi4vY29uZmlnIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIHsKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGxvZ2luVGFiczogIiIsCiAgICAgIGVtYWlsOiAiYWRtaW5AZmxhdGxvZ2ljLmNvbSIsCiAgICAgIGVtYWlsUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIkUtbWFpbCBpcyByZXF1aXJlZCI7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIC8uK0AuKy8udGVzdCh2KSB8fCAiRS1tYWlsIG11c3QgYmUgdmFsaWQiOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2LnRvTG93ZXJDYXNlKCkgPT09IF90aGlzLmVtYWlsOwogICAgICB9XSwKICAgICAgY3JlYXRlRnVsbE5hbWU6ICJKb2huIFNtaXRoIiwKICAgICAgY3JlYXRlRW1haWw6ICJqb2huQGZsYXRsb2dpYy5jb20iLAogICAgICBjcmVhdGVQYXNzd29yZDogInBhc3N3b3JkIiwKICAgICAgcGFzc3dvcmQ6ICJwYXNzd29yZCIsCiAgICAgIHBhc3NSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAiUGFzc3dvcmQgaXMgcmVxdWlyZWQiOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2Lmxlbmd0aCA+PSA2IHx8ICJNaW4gNiBjaGFyYWN0ZXJzIjsKICAgICAgfV0sCiAgICAgIGFsZXJ0OiBmYWxzZSwKICAgICAgbWVzc2FnZTogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygicmVnaXN0ZXIiLCBbInJlZ2lzdGVyVXNlciIsICJyZWdpc3RlckVycm9yIl0pKSwgbWFwQWN0aW9ucygiYXV0aCIsIFsibG9naW5Vc2VyIiwgInJlY2VpdmVUb2tlbiIsICJyZWNlaXZlTG9naW4iXSkpLCB7fSwgewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAvLyBjb25zdCBlbWFpbCA9IHRoaXMuZW1haWw7CiAgICAgIC8vIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsKICAgICAgLy8gdGhpcy5sb2dpblVzZXIoe2VtYWlsLCBwYXNzd29yZH0pOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL21hcCIpOwogICAgfSwKICAgIGdvb2dsZUxvZ2luOiBmdW5jdGlvbiBnb29nbGVMb2dpbigpIHsKICAgICAgdGhpcy5sb2dpblVzZXIoewogICAgICAgIHNvY2lhbDogImdvb2dsZSIKICAgICAgfSk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBlbWFpbCA9IHRoaXMuY3JlYXRlRW1haWw7CiAgICAgIHZhciBwYXNzd29yZCA9IHRoaXMuY3JlYXRlUGFzc3dvcmQ7CiAgICAgIHRoaXMucmVnaXN0ZXJVc2VyKHsKICAgICAgICBjcmVkczogewogICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgfQogICAgICB9KTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmxvZ2luVGFicyA9ICJ0YWItbG9naW4iOwogICAgICB9LCAxNTAwKTsKICAgIH0sCiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmxvZy52YWxpZGF0ZSgpKSB7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhdXRoZW50aWNhdGVkIiwgdHJ1ZSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi91c2VyL3Byb2ZpbGUiKTsKICAgICAgfQogICAgfQogIH0pLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCJhdXRoIiwgewogICAgaXNGZXRjaGluZzogZnVuY3Rpb24gaXNGZXRjaGluZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaXNGZXRjaGluZzsKICAgIH0sCiAgICBlcnJvck1lc3NhZ2U6IGZ1bmN0aW9uIGVycm9yTWVzc2FnZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZXJyb3JNZXNzYWdlOwogICAgfQogIH0pKSwgbWFwU3RhdGUoInJlZ2lzdGVyIiwgewogICAgcmVnSXNGZXRjaGluZzogZnVuY3Rpb24gcmVnSXNGZXRjaGluZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaXNGZXRjaGluZzsKICAgIH0sCiAgICByZWdFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uIHJlZ0Vycm9yTWVzc2FnZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZXJyb3JNZXNzYWdlOwogICAgfQogIH0pKSwKICB3YXRjaDogewogICAgZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7CiAgICAgIHRoaXMubWVzc2FnZSA9IHRoaXMuZXJyb3JNZXNzYWdlOwogICAgICB0aGlzLmFsZXJ0ID0gdHJ1ZTsKICAgIH0sCiAgICByZWdFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uIHJlZ0Vycm9yTWVzc2FnZSgpIHsKICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy5yZWdFcnJvck1lc3NhZ2U7CiAgICAgIHRoaXMuYWxlcnQgPSB0cnVlOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwoKICAgIGlmICh0b2tlbikgewogICAgICB0aGlzLnJlY2VpdmVUb2tlbih0b2tlbik7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5pc0F1dGhlbnRpY2F0ZWQobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikpKSB7CiAgICAgICAgdGhpcy5yZWNlaXZlTG9naW4oKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBjcmVkcyA9IGNvbmZpZy5hdXRoOwogICAgdGhpcy5lbWFpbCA9IGNyZWRzLmVtYWlsOwogICAgdGhpcy5wYXNzd29yZCA9IGNyZWRzLnBhc3N3b3JkOwogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <v-container fluid>\n      <v-row>\n        <v-col cols=\"12\" md=\"4\"> </v-col>\n        <v-col cols=\"12\" md=\"4\" class=\"mt-16 set-shadow-login\">\n          <div class=\"text-center mt-10\">\n            <v-icon\n              style=\"background: #686868;\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent;\n  text-shadow: rgba(255, 255, 255, 0.5) 1px 2px 1px;\n  font-size: 120px;\"\n              >mdi-file-document-edit-outline</v-icon\n            >\n          </div>\n          <h2 class=\"text-center mt-5\">แบบประเมินชุมชนสลัม</h2>\n          <!-- <label class=\"pl-12\">Username</label> -->\n          <v-text-field\n            label=\"Username\"\n            prepend-icon=\"fa-user\"\n            class=\"px-3\"\n            solo\n          ></v-text-field>\n          <!-- <label class=\"pl-12\">Password</label> -->\n          <v-text-field\n            label=\"รหัสผ่าน\"\n            prepend-icon=\"fa-lock\"\n            class=\"px-3\"\n            solo\n          ></v-text-field>\n          <div class=\"mx-3 my-10\">\n            <v-btn\n              color=\"primary\"\n              outlined\n              block\n              class=\"rounded-lg mb-3 elevation-4\"\n              x-large\n              @click=\"login()\"\n              >เข้าสู่ระบบ</v-btn\n            >\n          </div>\n        </v-col>\n        <v-col cols=\"12\" md=\"4\"> </v-col>\n      </v-row>\n    </v-container>\n    <v-snackbar v-model=\"alert\" color=\"error\">\n      {{ message }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn dark text v-bind=\"attrs\" @click=\"alert = false\">\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </v-app>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\nimport config from \"../../config\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      valid: true,\n      loginTabs: \"\",\n      email: \"admin@flatlogic.com\",\n      emailRules: [\n        (v) => !!v || \"E-mail is required\",\n        (v) => /.+@.+/.test(v) || \"E-mail must be valid\",\n        (v) => v.toLowerCase() === this.email,\n      ],\n      createFullName: \"John Smith\",\n      createEmail: \"john@flatlogic.com\",\n      createPassword: \"password\",\n      password: \"password\",\n      passRules: [\n        (v) => !!v || \"Password is required\",\n        (v) => v.length >= 6 || \"Min 6 characters\",\n      ],\n      alert: false,\n      message: \"\",\n    };\n  },\n  methods: {\n    ...mapActions(\"register\", [\"registerUser\", \"registerError\"]),\n    ...mapActions(\"auth\", [\"loginUser\", \"receiveToken\", \"receiveLogin\"]),\n    login() {\n      // const email = this.email;\n      // const password = this.password;\n      // this.loginUser({email, password});\n      this.$router.push(\"/map\");\n    },\n    googleLogin() {\n      this.loginUser({ social: \"google\" });\n    },\n    register() {\n      const email = this.createEmail;\n      const password = this.createPassword;\n\n      this.registerUser({ creds: { email, password } });\n      setTimeout(() => {\n        this.loginTabs = \"tab-login\";\n      }, 1500);\n    },\n    validate() {\n      if (this.$refs.log.validate()) {\n        window.localStorage.setItem(\"authenticated\", true);\n        this.$router.push(\"/user/profile\");\n      }\n    },\n  },\n  computed: {\n    ...mapState(\"auth\", {\n      isFetching: (state) => state.isFetching,\n      errorMessage: (state) => state.errorMessage,\n    }),\n    ...mapState(\"register\", {\n      regIsFetching: (state) => state.isFetching,\n      regErrorMessage: (state) => state.errorMessage,\n    }),\n  },\n\n  watch: {\n    errorMessage() {\n      this.message = this.errorMessage;\n      this.alert = true;\n    },\n    regErrorMessage() {\n      this.message = this.regErrorMessage;\n      this.alert = true;\n    },\n  },\n\n  created() {\n    let token = localStorage.getItem(\"token\");\n    if (token) {\n      this.receiveToken(token);\n    } else {\n      if (this.isAuthenticated(localStorage.getItem(\"token\"))) {\n        this.receiveLogin();\n      }\n    }\n  },\n  mounted() {\n    const creds = config.auth;\n    this.email = creds.email;\n    this.password = creds.password;\n  },\n};\n</script>\n\n<style src=\"./Login.scss\" lang=\"scss\" />\n"],"sourceRoot":"src/pages/Login"}]}